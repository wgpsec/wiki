(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{752:function(v,_,t){"use strict";t.r(_);var e=t(103),o=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("blockquote",[t("p",[v._v("作为一名优秀的防守方首先要知道己方都有什么资产；")]),v._v(" "),t("p",[v._v("就像一个保镖知道自己要去保护的对象，否则目标搞错了做多少工作都是白费；")]),v._v(" "),t("p",[v._v("有些企业会有资产治理类的设备，这种情况直接导出就行了，如果没有的话还需要我们手工梳理资产。")])]),v._v(" "),t("h1",{attrs:{id:"外网资产梳理"}},[v._v("外网资产梳理 "),t("a",{staticClass:"header-anchor",attrs:{href:"#外网资产梳理"}},[v._v("#")])]),v._v(" "),t("blockquote",[t("p",[v._v("1、确认防守单位的一级域名（问客户要、或 天眼查）")]),v._v(" "),t("p",[v._v("2、枚举子域名（OneForAll收集子域名）")]),v._v(" "),t("p",[v._v("3、网站所在C段端口扫描（可用Goby或自己开发）【系统服务识别、HTTP服务title识别，HTTP服务页面截图】")])]),v._v(" "),t("h1",{attrs:{id:"内网资产梳理"}},[v._v("内网资产梳理 "),t("a",{staticClass:"header-anchor",attrs:{href:"#内网资产梳理"}},[v._v("#")])]),v._v(" "),t("blockquote",[t("p",[v._v("从客户那里问到内网IP段，并且获得内网准入权限后就是空间探测那一套了;")]),v._v(" "),t("p",[v._v("空间探测核心功能说白了就是端口扫描，探测哪些IP是存活的开放了哪些服务，如开了HTTP访问一下获取个title；")]),v._v(" "),t("p",[v._v("再多点做下Web指纹识别，扫下目录，http服务页面自动截图等，还有加漏扫的。")])]),v._v(" "),t("p",[t("strong",[v._v("最终形成一个类似如下信息的表格：")])]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("业务系统名称")]),v._v(" "),t("th",[v._v("URL")]),v._v(" "),t("th",[v._v("系统所在取域")]),v._v(" "),t("th",[v._v("中间件")]),v._v(" "),t("th",[v._v("公网IP")]),v._v(" "),t("th",[v._v("内网IP")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("百度搜索")]),v._v(" "),t("td",[v._v("https://www.baidu.com")]),v._v(" "),t("td",[v._v("外网")]),v._v(" "),t("td",[v._v("BWS/1.0")]),v._v(" "),t("td",[v._v("233.233.233.233")]),v._v(" "),t("td",[v._v("10.10.10.123")])]),v._v(" "),t("tr",[t("td",[v._v("莆田系医院官网")]),v._v(" "),t("td",[v._v("http://192.168.1.110:8886")]),v._v(" "),t("td",[v._v("内网")]),v._v(" "),t("td",[v._v("Tomcat")]),v._v(" "),t("td"),v._v(" "),t("td",[v._v("192.168.1.110")])])])]),v._v(" "),t("h1",{attrs:{id:"渗透测试"}},[v._v("渗透测试 "),t("a",{staticClass:"header-anchor",attrs:{href:"#渗透测试"}},[v._v("#")])]),v._v(" "),t("p",[v._v("很多地方并不能直接登录客户的服务器，所以下一篇的**"),t("code",[v._v("基线加固")]),v._v("**我们做不了；")]),v._v(" "),t("p",[v._v("我们只能从黑盒的角度做下渗透测试，尽可能多的发现高危漏洞进行整改；")]),v._v(" "),t("p",[v._v("这个步骤相信各位师傅都很清楚了，我简单写下我自己的思路")]),v._v(" "),t("p",[t("strong",[v._v("1、弱口令排查")])]),v._v(" "),t("blockquote",[t("p",[v._v("系统服务弱口令（SSH、MySQL、FTP、SMB、RDP）")]),v._v(" "),t("p",[v._v("Web后台弱口令")]),v._v(" "),t("p",[v._v("​\tadmin 爆破弱口令（123456、111111、admin、admin123、admin888）")]),v._v(" "),t("p",[v._v("​\tOA弱口令爆破用户名（用户名top500）")]),v._v(" "),t("p",[v._v("​\t有验证码简单尝试、无验证码超大字典批量爆破")])]),v._v(" "),t("p",[t("strong",[v._v("2、未授权访问")])]),v._v(" "),t("blockquote",[t("p",[v._v("redis 未授权")]),v._v(" "),t("p",[v._v("MongoDB 未授权")]),v._v(" "),t("p",[v._v("Memcached 未授权")]),v._v(" "),t("p",[v._v("ZooKeeper 未授权")]),v._v(" "),t("p",[v._v("Hadoop 未授权")]),v._v(" "),t("p",[v._v("Jenkins 未授权")]),v._v(" "),t("p",[v._v("Rsync 未授权")])]),v._v(" "),t("p",[t("strong",[v._v("3、"),t("code",[v._v("中间件")]),v._v("&"),t("code",[v._v("CMS框架")]),v._v("&"),t("code",[v._v("OA")]),v._v("&"),t("code",[v._v("安全设备")]),v._v("命令执行漏洞")])]),v._v(" "),t("blockquote",[t("p",[v._v("WebLogic")]),v._v(" "),t("p",[v._v("Structs 2")]),v._v(" "),t("p",[v._v("Shiro")]),v._v(" "),t("p",[v._v("ThinkPHP")]),v._v(" "),t("p",[v._v("通达OA")]),v._v(" "),t("p",[v._v("深信服edr")]),v._v(" "),t("p",[v._v("等等这类漏洞，把自己漏洞库中有的都上一遍")])]),v._v(" "),t("p",[t("strong",[v._v("4、Web漏洞扫描")])]),v._v(" "),t("blockquote",[t("p",[v._v("弱口令进了后台找文件上传漏洞")]),v._v(" "),t("p",[v._v("用AWVS+xray等Web漏扫，扫描sqli、xss、信息泄露等Web安全漏洞")])])])}),[],!1,null,null,null);_.default=o.exports}}]);