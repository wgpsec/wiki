(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{828:function(s,a,t){"use strict";t.r(a);var e=t(103),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"源码泄露"}},[s._v("源码泄露 "),t("a",{staticClass:"header-anchor",attrs:{href:"#源码泄露"}},[s._v("#")])]),s._v(" "),t("h1",{attrs:{id:"git源码泄漏"}},[s._v(".git源码泄漏 "),t("a",{staticClass:"header-anchor",attrs:{href:"#git源码泄漏"}},[s._v("#")])]),s._v(" "),t("p",[s._v("在运行git init初始化代码库的时候，会在当前目录下面产生一个.git的隐藏文件，用来记录代码的变更记录")]),s._v(" "),t("p",[s._v("在发布代码的时候，.git目录没有删除，使用这个文件，可以恢复源代码。")]),s._v(" "),t("p",[t("strong",[s._v("文件夹分析")])]),s._v(" "),t("blockquote",[t("p",[s._v("**index：**文件保存暂存区信息；")]),s._v(" "),t("p",[s._v("**hook：**存放一些sheel的地方。\n**info：**存放仓库的信息\n**object：**存放所有git对象的地方\n**refs：**存放提交hash的地方\n**config：**github的配置信息\n**description：**仓库的描述信息，主要给gitweb等git托管系统使用\n**HEAD：**映射到ref引用，能够找到下一次commit的前一次哈希值")])]),s._v(" "),t("p",[s._v("git是一套内容寻址文件系统")]),s._v(" "),t("p",[t("strong",[s._v("1.寻址方式")]),s._v("\ngit采用HashTable的方式进行寻址\n这里使用的key就是文件（头+内容）的哈希值，value就是经过压缩后的文件内容")]),s._v(" "),t("p",[t("strong",[s._v("2.git对象的类型")])]),s._v(" "),t("blockquote",[t("p",[s._v("**Blob：**blob对象可以存储所有的文件类型。\n**tree：**tree对象是用来组织Blob对象的一种数据类型。树节点\n**commit：**父节点")])]),s._v(" "),t("p",[t("strong",[s._v("3.Git对象的存储方式")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sha1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file_header + file_content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nValue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" zlib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file_content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("40位的sha-1校验和，将该校验和的前2位作为object目录中的子目录的名称，后38位作为子目录中的文件名")])]),s._v(" "),t("p",[s._v("利用Githack脚本，下载全部源码")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python2 GitHack.py http://xxx.com/.git/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"hg源码泄漏"}},[s._v(".hg源码泄漏 "),t("a",{staticClass:"header-anchor",attrs:{href:"#hg源码泄漏"}},[s._v("#")])]),s._v(" "),t("p",[s._v("hg init的时候会生成.hg")]),s._v(" "),t("p",[s._v("工具：dvcs-ripper")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("rip-hg.pl -v -u http://www.example.com/.hg/\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" .hg/store/fncache\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h1",{attrs:{id:"svn源码泄漏"}},[s._v(".SVN源码泄漏 "),t("a",{staticClass:"header-anchor",attrs:{href:"#svn源码泄漏"}},[s._v("#")])]),s._v(" "),t("p",[s._v("代码放到生产坏境中后，没有清理 svn 的一些信息，导致 svn 残留")]),s._v(" "),t("p",[s._v("工具：dvcs-ripper")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("rip-svn.pl -v -u http://www.localhost.test/.svn/\n\n从 xxx.db 中找到 flag 的文件的文件名,然后访问\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" xxx.db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" flag\n\n或找cat .svn/pristine/ 中的文件\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h1",{attrs:{id:"bazaar-bzr"}},[s._v("Bazaar/bzr "),t("a",{staticClass:"header-anchor",attrs:{href:"#bazaar-bzr"}},[s._v("#")])]),s._v(" "),t("p",[s._v("工具：")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/kost/dvcs-ripper",target:"_blank",rel:"noopener noreferrer"}},[s._v("dvcs-ripper"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("rip-bzr.pl -v -u http://www.example.com/.bzr/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"ds-store文件泄漏"}},[s._v(".DS_Store文件泄漏 "),t("a",{staticClass:"header-anchor",attrs:{href:"#ds-store文件泄漏"}},[s._v("#")])]),s._v(" "),t("p",[s._v("在发布代码时未删除文件夹中隐藏的.DS_store，被发现后，获取了敏感的文件名等信息")]),s._v(" "),t("p",[s._v("工具："),t("a",{attrs:{href:"https://github.com/lijiejie/ds_store_exp",target:"_blank",rel:"noopener noreferrer"}},[s._v("dsstoreexp"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("python ds_store_exp.py http://www.example.com/.DS_Store\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"网站备份文件"}},[s._v("网站备份文件 "),t("a",{staticClass:"header-anchor",attrs:{href:"#网站备份文件"}},[s._v("#")])]),s._v(" "),t("p",[s._v("当备份文件或者修改过程中的缓存文件因为各种原因而被留在网站 web 目录下")]),s._v(" "),t("p",[s._v("而该目录又没有设置访问权限时，便有可能导致备份文件或者编辑器的缓存文件被下载，导致敏感信息泄露")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(".rar   .zip  .7z   .tar.gz   .bak    .swp   .txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"web-inf-web-xml-泄露"}},[s._v("WEB-INF/web.xml 泄露 "),t("a",{staticClass:"header-anchor",attrs:{href:"#web-inf-web-xml-泄露"}},[s._v("#")])]),s._v(" "),t("p",[s._v("WEB-INF 是 Java 的 WEB 应用的安全目录。")]),s._v(" "),t("p",[s._v("该目录原则上来说是客户端无法访问，只有服务端才可以可以访问。")]),s._v(" "),t("p",[s._v("如果想在页面中直接访问其中的文件，必须通过 web.xml 文件对要访问的文件进行相应映射才能访问。")]),s._v(" "),t("p",[t("strong",[s._v("WEB-INF 主要包含以下文件或目录：")])]),s._v(" "),t("blockquote",[t("p",[s._v("/WEB-INF/web.xml：Web 应用程序配置文件，描述了 servlet 和其他的应用组件配置及命名规则；")]),s._v(" "),t("p",[s._v("/WEB-INF/classes/：含了站点所有用的 class 文件，包括 servlet class 和非 servlet class，他们不能包含在 .jar 文件中；")]),s._v(" "),t("p",[s._v("/WEB-INF/lib/：存放 web 应用需要的各种 JAR 文件，放置仅在这个应用中要求使用的 jar 文件 , 如数据库驱动 jar 文件；")]),s._v(" "),t("p",[s._v("/WEB-INF/src/：源码目录，按照包名结构放置各个 java 文件；")]),s._v(" "),t("p",[s._v("/WEB-INF/database.properties：数据库配置文件。")])]),s._v(" "),t("hr"),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("例如\nhttp://example.com/dir/WEB-INF/web.xml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h1",{attrs:{id:"cvs泄漏"}},[s._v("CVS泄漏 "),t("a",{staticClass:"header-anchor",attrs:{href:"#cvs泄漏"}},[s._v("#")])]),s._v(" "),t("p",[s._v("测试的目录")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("http://url/CVS/Root 返回根信息\nhttp://url/CVS/Entries 返回所有文件的结构\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("取回源码的命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("bk clone http://url/name "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v("\nbk clone http://url/name ./\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把远端一个名为name的repo clone到本地当前目录下")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("查看所有的改变的命令，转到download的目录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("bk changes\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);